# 강의노트 211214

<br>

## **공지**

- 목요일까지 프로젝트 미완성이라도 제출
- 실습 수업은 유투브에 따로 올려 놓을 것이니 수강할 것
- 취업이 어려우면 찾아와라...

---

<br>

## **Typescript 강의**

- 동적 타입 언어는 런타임 시 오류가 날 확률이 굉장히 높음
- 자바의 경우는 NullPointException이 많이 남
- C, C++ 등은 코드 짤때는 힘들어도 컴파일 오류는 많이 안남

### **Typescript 쓰는 이유**

- 런타임 이전에 오류를 잡을 수 있음
- 다른 모듈을 임포트할 때 굳이 다른 파일에 들어가서 타입을 찾을 필요 없음
- 타입을 지정하는 것이 설명역할을 해서 주석을 쓸 필요 없음
- 유닛테스트 시 동적 타입 언어는 여러 타입을 대입해봐야 하지만 TS는 그럴 필요 없음
- 실수방지 (ex: JS의 자동 형변환)
- suggest
- 다형성
- Coding Style
- 정리하자면 **실용적**인 언어
- 단, TS --> JS 변환해야 하므로 성능은 살짝 떨어질 수 있음

<br>

### **Typescript**

- 파일 확장자 ts
- TSC(컴파일러)에서 type checker를 걸쳐 JS가 됨
- build해서 실행, 오류 발생 시 Warning(hint)을 줌
- TSC가 거치는 과정
  - 컴파일러에서는 구문을 Parsing하여 Abstact Syntax Tree; AST를 생성
  - 이후 Byte Code -> 기계어 -> 평가&실행
  - 이 과정을 통해 오류 검출
- 타입스크립트의 타입지정하는 것도 어노테이션임

<br>

- ES6+ 를 사용해라
- 순수함수로 코딩()
- **type은 기계가 확실히 알 수 있는 곳이 아닌 모든 곳에 붙이는 것이 좋음**
- **argument에는 무조건 넣어야 함**

<br>

### **TS 기본 예시**

```ts
//기본형
function( name: string, setName: string): string = ...
```

```ts
const [name, setName] = useState<string>('');
//초기 값을 string으로 줬기 때문에 TS가 판단 가능. --> <string 생략 가능>
```

```ts
onChange = (evt: HTMLInputEvent<HTMLInputElement>)
// onChange가 들어가는 <Input ~~>이 Dom 객체가 아닌 React JSX이므로 위와 같이 타입 설정해야함
```

```ts
const socket: type = io('ws://~~');
// type이 뭔지 모를 때는 io에 마우스를 가져다대면 타입 나옴
```

<br>

### **TS 설치, 실행**

```sh
$> npm init -y

$> npm i -D typescript tslint ts-node @types/node
( -D = --save-dev)

$> ./node_modules/.bin/tsc --init
(--> tsconfig.json)

$> ./node_modules/.bin/tslint --init
(--> tslint.json)
```

```sh
# nodemon으로 자동 실행
$> nodemon --exec 'node_modules/.bin/ts-node' 파일경로

# 수동 컴파일 및 실행
$> ./node_modules/.bin/tsc
$> node ./dist/index.js
```

<br>

### **Type**

![image](https://user-images.githubusercontent.com/60606025/145991033-50829631-1bbb-4786-b931-6dcec9bf4748.png)

- any는 최대한 쓰지 말고 모르면 unknown을 사용

<br>

### **예제**

```ts
let a: number = 0;
let s: string = 'this is string';

//object literal
let obj: { id: number; name: string } = { id: 1, name: 'hong' };

//type literal
let b: 1 | 10 = 1;

// bigint: 253 byte 이상인 수
// bigint 사용 시
let bi: bigint = 1234n;

// ?는 선택형을 의미
let obj2: { id: number; name: string; addr?: string } = { id: 1, name: 'hong' };

//
class User {
  constructor(private id: number, public name: string) {
    this.name = name;
    this.id = id;
  }
}
const hong = new User(1, 'hong');
console.log(hong);
// console.log(id); --> 사용 불가

// 이런식으로 지정하는 것 많이 사용 해봐라
const obj3: { id: number; name: string; [key: number | string]: string } = {
  123: 1,
  name: 'hong',
};
```

## <br>

## **Note**

- V8: Chrome
- SpyTheMonkey: 파이어폭스
- JSCore: 사파리

### **사담**

---

<br>

## **Keyword**
